<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="p">
	
	<select id="product_list" resultType="product">
		select * from product
		
	</select>
	
	<select id="product_count" resultType="int">
		select count(*) from product
	</select>

	<select id="product_selectOne" parameterType="java.lang.Integer" resultType="vo.FullViewVO">
		select * from product where product_idx = #{product_idx}
	</select>

	<select id="review_selectList" parameterType="int" resultType="vo.ReviewLsjVO">
		select * from review where product_idx = #{product_idx} order by review_regdate desc
	</select>
	
	<select id="product_search" parameterType="search" resultType="product" >
		select * from product
		<where>
			product_type =
			<foreach collection="product_type" item="item" separator="or product_type = ">
			
			 #{item}
			</foreach>
		and 
		
			product_alcohol_degree =
			<foreach collection="product_alcohol_degree" item="item" separator="or product_alcohol_degree = ">
			
			 #{item}
			</foreach>
		</where>
		
		<!-- and
		<where>
			product_price =
			<foreach collection="product_price" item="item" separator="or product_price = ">
			
			 #{item}
			</foreach>
		</where>
		and
		<where>
			product_sweet_rating =
			<foreach collection="product_sweet_rating" item="item" separator="or product_sweet_rating = ">
			
			 #{item}
			</foreach>
		</where>
		and
		<where>
			product_sourish_rating =
			<foreach collection="product_sourish_rating" item="item" separator="or product_sourish_rating = ">
			
			 #{item}
			</foreach>
		</where>
		and
		<where>
			product_sparklig_rating =
			<foreach collection="product_sparkling_rating" item="item" separator="or product_sparkling_rating = ">
			
			 #{item}
			</foreach>
		</where>
		and
		<where>
			product_bodytaste_rating =
			<foreach collection="product_bodytaste_rating" item="item" separator="or product_bodytaste_rating = ">
			
			 #{item}
			</foreach>
		</where> -->
		
		
		
	</select>
	
	<select id="product_search_count" parameterType="search" resultType="int">
		select count(*) from product
		<where>
			product_type =
			<foreach collection="product_type" item="item" separator="or product_type = ">
			
			 #{item}
			</foreach>
		
		and 
		
			product_alcohol_degree =
			<foreach collection="product_alcohol_degree" item="item" separator="or product_alcohol_degree = ">
			
			 #{item}
			</foreach>
		</where>
		<!-- and
		<where>
			product_price =
			<foreach collection="product_price" item="item" separator="or product_price = ">
			
			 #{item}
			</foreach>
		</where>
		and
		<where>
			product_sweet_rating =
			<foreach collection="product_sweet_rating" item="item" separator="or product_sweet_rating = ">
			
			 #{item}
			</foreach>
		</where>
		and
		<where>
			product_sourish_rating =
			<foreach collection="product_sourish_rating" item="item" separator="or product_sourish_rating = ">
			
			 #{item}
			</foreach>
		</where>
		and
		<where>
			product_sparklig_rating =
			<foreach collection="product_sparkling_rating" item="item" separator="or product_sparkling_rating = ">
			
			 #{item}
			</foreach>
		</where>
		and
		<where>
			product_bodytaste_rating =
			<foreach collection="product_bodytaste_rating" item="item" separator="or product_bodytaste_rating = ">
			
			 #{item}
			</foreach>
		</where> -->
	</select>
	
</mapper>






















